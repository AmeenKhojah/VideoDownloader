<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VideoGrab - Video Downloader</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body class="min-h-screen relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-purple-100">
  <!-- Particle Background Canvas -->
  <canvas id="bgCanvas" class="absolute inset-0 z-0 pointer-events-none"></canvas>

  <!-- Toast Container -->
  <div id="toast-container" class="fixed top-4 right-4 z-50"></div>

  <!-- Main Container -->
  <div class="relative z-10 container mx-auto px-4 py-12">
    <!-- Hero Section -->
    <div class="text-center mb-12">
      <!-- Header with Download Icon -->
      <div class="flex justify-center items-center mb-6">
        <!-- Download Icon with Bouncing Animation -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="platform-icon text-purple-300 mr-3 animate-bounce-smooth"
          width="48"
          height="48"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" x2="12" y1="15" y2="3"></line>
        </svg>

        <h1 class="text-4xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-300 via-pink-300 to-indigo-300">
          VideoGrab
        </h1>
      </div>
      <p class="text-xl md:text-2xl text-purple-100 opacity-90 max-w-2xl mx-auto mb-8">
        One click, unlimited downloads. Save Instagram & YouTube videos effortlessly!
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <span class="px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-purple-200 text-sm flex items-center hover:bg-white/20 transition-all duration-300">
          <span class="flex items-center">
            <!-- Secure Icon SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" class="mr-2" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"></path>
            </svg>
            Secure Downloads
          </span>
        </span>
        <span class="px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-purple-200 text-sm flex items-center hover:bg-white/20 transition-all duration-300">
          <span class="flex items-center">
            <!-- Lightning Fast Icon SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" class="mr-2" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path>
            </svg>
            Lightning Fast
          </span>
        </span>
        <span class="px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-purple-200 text-sm flex items-center hover:bg-white/20 transition-all duration-300">
          <span class="flex items-center">
            <!-- High Quality Icon SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" class="mr-2" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"></path>
              <path d="M20 3v4"></path>
              <path d="M22 5h-4"></path>
              <path d="M4 17v2"></path>
              <path d="M5 18H3"></path>
            </svg>
            High Quality
          </span>
        </span>
      </div>
    </div>

    <!-- Video Downloader Component -->
    <div class="w-full max-w-2xl mx-auto">
      <!-- Platform Selection -->
      <div class="flex justify-center gap-4 mb-6">
        <button id="youtube-btn" class="platform-btn flex items-center gap-2 px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 bg-white/10 text-purple-100 hover:bg-white/20">
          <svg xmlns="http://www.w3.org/2000/svg" class="platform-icon text-purple-300 hover:text-purple-100 transition-all duration-300"
            width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path>
            <path d="m10 15 5-3-5-3z"></path>
          </svg>
          <span>YouTube</span>
        </button>
        <button id="instagram-btn" class="platform-btn flex items-center gap-2 px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 bg-white/10 text-purple-100 hover:bg-white/20">
          <!-- Corrected Instagram SVG -->
          <svg xmlns="http://www.w3.org/2000/svg" class="platform-icon text-purple-300 hover:text-purple-100 transition-all duration-300"
               width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="4" ry="4"></rect>
            <circle cx="12" cy="12" r="4"></circle>
            <circle cx="17.5" cy="6.5" r="0.5"></circle>
          </svg>
          <span>Instagram</span>
        </button>
      </div>

      <!-- Search Form (Initially Hidden) -->
      <form id="search-form" autocomplete="off" class="relative group opacity-0 scale-95 transition-all duration-500 transform hidden">
        <!-- Hidden dummy input to prevent autocomplete -->
        <input type="text" name="fake-field" style="display: none;" autocomplete="off" />

        <div
          class="absolute inset-0 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-xl transition-all duration-300 group-hover:blur-2xl"></div>
        <input type="text" id="url-input" name="unique-url-input" placeholder="Paste video URL here..." autocomplete="off"
          class="w-full px-6 py-4 rounded-full bg-white/10 backdrop-blur-sm border border-purple-400/30 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/50 outline-none text-purple-100 pr-24 shadow-lg transition-all duration-300 group-hover:shadow-purple-500/20 group-hover:shadow-xl placeholder-purple-300/50" />
        <!-- Paste Button -->
        <button type="button" id="paste-btn"
          class="absolute right-14 top-1/2 -translate-y-1/2 p-2 text-purple-300 hover:text-purple-100 transition-colors duration-300 hover:scale-110 flex items-center justify-center"
          title="Paste from clipboard">
          <svg xmlns="http://www.w3.org/2000/svg" class="platform-icon text-purple-300 hover:text-purple-100 transition-all duration-300"
            width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect>
            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
          </svg>
        </button>
        <!-- Search Button -->
        <button type="submit" id="search-btn"
          class="absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-white hover:from-purple-600 hover:to-pink-600 transition-all duration-300 disabled:opacity-50 disabled:hover:from-purple-500 disabled:hover:to-pink-500 hover:scale-110 flex items-center justify-center">
          <!-- Loader Icon (Hidden by Default) -->
          <svg id="loader-icon" xmlns="http://www.w3.org/2000/svg" class="platform-icon animate-spin hidden" width="16"
            height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2v4"></path>
            <path d="m16.2 7.8 2.9-2.9"></path>
            <path d="M18 12h4"></path>
            <path d="m16.2 16.2 2.9 2.9"></path>
            <path d="M12 18v4"></path>
            <path d="m4.9 19.1 2.9-2.9"></path>
            <path d="M2 12h4"></path>
            <path d="m4.9 4.9 2.9 2.9"></path>
          </svg>

          <!-- Static Search Icon (Visible by Default) -->
          <svg id="search-static-icon" xmlns="http://www.w3.org/2000/svg" class="platform-icon" width="16" height="16"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </button>
      </form>

      <!-- Preview Section -->
      <div id="preview-section"
        class="hidden mt-6 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-purple-400/30 transform transition-all duration-300 hover:scale-102 hover:shadow-lg hover:shadow-purple-500/20">
        <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4">
          <!-- Clickable Video Thumbnail -->
          <!-- Updated Thumbnail Container with aspect-video and embedded iframe -->
          <div class="relative group w-24 md:w-32 aspect-video rounded-lg overflow-hidden flex-shrink-0 ring-2 ring-purple-500/30">
            <a href="#" target="_blank" id="thumbnail-link" class="block relative w-full h-full">
              <img src="" alt="Video thumbnail" id="video-thumbnail"
                   class="w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-110" />
              <iframe id="video-iframe" src="" class="w-full h-full object-cover absolute top-0 left-0 hidden transform transition-transform duration-300" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </a>
          </div>

          <!-- Video Information and Download Options -->
          <div class="flex-1 w-full">
            <!-- Video Title -->
            <h3 class="text-sm md:text-base font-medium text-purple-100 line-clamp-1 mb-2" id="video-title">Sample Video Title</h3>

            <!-- Format Selection and Download Button -->
            <div class="flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4">
              <!-- Format Dropdown -->
              <div class="w-full md:w-auto">
                <select id="format-select"
                  class="w-full md:w-auto bg-purple-500/80 text-white text-sm md:text-base rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-purple-600/80 transition-colors">
                  <!-- Placeholder Option -->
                  <option value="" disabled selected>Select format</option>
                  <!-- Video Formats -->
                  <optgroup label="Video">
                    <!-- Options will be populated dynamically -->
                  </optgroup>
                  <!-- Audio Formats -->
                  <optgroup label="Audio">
                    <!-- Audio Option will be added dynamically if available -->
                  </optgroup>
                </select>
                <!-- Inline Error Message -->
                <p id="format-error" class="mt-1 text-red-500 text-xs hidden">Please select a quality before downloading.</p>
              </div>

              <!-- Download Button with Spinner -->
              <button type="button" id="download-btn"
                class="relative flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm md:text-base rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 disabled:cursor-not-allowed disabled:opacity-50">
                <!-- Download Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="platform-icon text-white" width="16" height="16"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" x2="12" y1="15" y2="3"></line>
                </svg>
                <span>Download</span>
                <!-- Spinner Icon (Hidden by Default) -->
                <svg id="download-spinner" class="animate-spin h-4 w-4 ml-2 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="p-6 rounded-xl bg-white/5 backdrop-blur-lg transform hover:scale-105 transition-all duration-300 border border-purple-500/20">
        <h3 class="text-xl font-semibold text-purple-200 mb-2">Multiple Formats</h3>
        <p class="text-purple-100/80">Download in various qualities and formats</p>
      </div>
      <div class="p-6 rounded-xl bg-white/5 backdrop-blur-lg transform hover:scale-105 transition-all duration-300 border border-purple-500/20">
        <h3 class="text-xl font-semibold text-purple-200 mb-2">Fast & Easy</h3>
        <p class="text-purple-100/80">Simple one-click download process</p>
      </div>
      <div class="p-6 rounded-xl bg-white/5 backdrop-blur-lg transform hover:scale-105 transition-all duration-300 border border-purple-500/20">
        <h3 class="text-xl font-semibold text-purple-200 mb-2">All Platforms</h3>
        <p class="text-purple-100/80">Support for major social platforms</p>
      </div>
    </div>

    <!-- Footer Section -->
    <footer class="mt-16 py-6 bg-gradient-to-r from-purple-900 via-indigo-900 to-pink-900 text-center text-purple-200 text-sm border-t border-purple-500/30">
      <p>© 2024 VideoGrab. All rights reserved. | Built with ❤️ by Ameen Khojah</p>
      <div class="mt-2">
        <a href="/privacy-policy" class="text-purple-300 hover:text-purple-100 transition-colors duration-300">Privacy Policy</a> |
        <a href="/terms-of-service" class="text-purple-300 hover:text-purple-100 transition-colors duration-300">Terms of Service</a>
      </div>
    </footer>
  </div>

  <!-- Custom JavaScript -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
